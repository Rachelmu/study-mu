# VUE

1. vue-router源码
2. vue原理（手写代码，实现数据劫持）
3. Object.defineProperty除了set get外还有什么属性，我回答了configurable enumerable

## 有用 ssr 

**考虑过 Vue.js、React 这类的框架为什么要用 Virtual DOM 机制吗？**

## vue中的diff算法

### 原理： （patchVnode是diff发生的地方，整体策略：深度优先，同层比较）

- 1.先同级比较，在比较子节点
- 2.先判断一方有儿子一方没儿子的情况 
- 3.比较都有儿子的情况 
- 4.递归比较子节点

### 总结：

- 1.diff算法是虚拟DOM技术的必然产物：通过新旧虚拟DOM作对比（即diff），将变化的地方更新在真实DOM上；另外，也需要diff高效的执行对比过程，从而降低时间复杂度为O(n)。

- 2.vue 2.x中为了降低Watcher粒度，每个组件只有一个Watcher与之对应，只有引入diff才能精确找到发生变化的地方。

- 3.vue中diff执行的时刻是组件实例执行其更新函数时，它会比对上一次渲染结果oldVnode和新的渲染结果newVnode，此过程称为patch。

- 4.diff过程整体遵循深度优先、同层比较的策略；两个节点之间比较会根据它们是否拥有子节点或者文本节点做不同操作；比较两组子节点是算法的重点，首先假设头尾节点可能相同做4次比对尝试，如果没有找到相同节点才按照通用方式遍历查找，查找结束再按情况处理剩下的节点；借助key通常可以非常精确找到相同节点，因此整个patch过程非常高效
# 垃圾回收机制
## 如何识别垃圾 识别垃圾的几种方法
###  引用计数法
- 堆中的每个对象都有一个引用计数器。当一个对象被创造初始化赋值之后，该变量计数就设置为1
```
var a = new Object() // 计数变量 = 1
```
- 每当有一个地方引用它时，计数器的值就加1
```
var a = new Object() // 计数变量 = 1
var b = a   // 计数变量 + 1 = 2
```
当引用失效时，计数器的值就减1
```
var a = new Object() // 计数变量 = 1
var b = a   // 计数变量 + 1 = 2
var c = a   // 计数变量 + 1 = 3

a = null    // 引用失效，计数变量 -1 = 2
b = {}      // 引用失效，计数变量 -1 = 1
```
- 知识体系关联：这样的管理方式，类似于数组的 length 字段。
- 优点：引用计数收集器执行简单，实现简单，判定效率高，无延迟，对程序不被长时间打断的实时环境比较有利。
- 缺点：赋值时需要更新计数器，增加了微量时间开销，影响不大。最严重的问题是引用计数器无法处理循环引用的问题